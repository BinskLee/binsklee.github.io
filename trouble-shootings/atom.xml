<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
    <id>https://binsklee.github.io/trouble-shootings</id>
    <title>Binsk's karma Blog</title>
    <updated>2025-06-01T00:00:00.000Z</updated>
    <generator>https://github.com/jpmonette/feed</generator>
    <link rel="alternate" href="https://binsklee.github.io/trouble-shootings"/>
    <subtitle>Binsk's karma Blog</subtitle>
    <icon>https://binsklee.github.io/img/favicon.ico</icon>
    <entry>
        <title type="html"><![CDATA[Docker 로그인 진행 후, auth 정보가 제대로 반영되지 않는 문제]]></title>
        <id>https://binsklee.github.io/trouble-shootings/improve-async-code-with-event-loop</id>
        <link href="https://binsklee.github.io/trouble-shootings/improve-async-code-with-event-loop"/>
        <updated>2025-06-01T00:00:00.000Z</updated>
        <summary type="html"><![CDATA[문제상황]]></summary>
        <content type="html"><![CDATA[<h2 class="anchor anchorWithStickyNavbar_p_6w" id="문제상황">문제상황<a href="https://binsklee.github.io/trouble-shootings/improve-async-code-with-event-loop#%EB%AC%B8%EC%A0%9C%EC%83%81%ED%99%A9" class="hash-link" aria-label="Direct link to 문제상황" title="Direct link to 문제상황">​</a></h2>
<p><code>docker login</code> 명령어를 통해 인증 후, <a href="http://ghcr.io/" target="_blank" rel="noopener noreferrer">ghcr.io</a> 에 컨테이너 이미지를 push 하려고 했더니 인증 실패가 발생했다.</p>
<p><code>cat ~/.docker/config.json</code> 를 통해 확인해본 결과 아래와 같이 auth 항목에 credential 정보가 제대로 기입되지 않는 상황이 보였다.</p>
<div class="language-json codeBlockContainer_adOD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_HiC4"><pre tabindex="0" class="prism-code language-json codeBlock_wcrc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_UEW8"><span class="token-line" style="color:#393A34"><span class="token plain">❯ cat ~/.docker/config.json</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"auths"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token property" style="color:#36acaa">"ghcr.io"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"credsStore"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pass"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>원래 로그인 이후 "ghcr.io" 부분에 올바른 값이 들어가는 것으로 알고 있지만 환경설정에 문제가 있는지 빈 값으로 업데이트 된 상태였다.</p>
<h2 class="anchor anchorWithStickyNavbar_p_6w" id="해결방법">해결방법<a href="https://binsklee.github.io/trouble-shootings/improve-async-code-with-event-loop#%ED%95%B4%EA%B2%B0%EB%B0%A9%EB%B2%95" class="hash-link" aria-label="Direct link to 해결방법" title="Direct link to 해결방법">​</a></h2>
<p>이 경우 linux에서 사용중인 <code>pass</code> 와 관련된 문제로 보여 사실 pass와 관련된 문제를 해결해야 하지만 문제 해결이 시급한 경우, 아래와 같이 auth에 명시적으로 값을 넣어 해결할 수 있다.</p>
<div class="language-json codeBlockContainer_adOD theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_HiC4"><pre tabindex="0" class="prism-code language-json codeBlock_wcrc thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_UEW8"><span class="token-line" style="color:#393A34"><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"auths"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token property" style="color:#36acaa">"ghcr.io"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      </span><span class="token property" style="color:#36acaa">"auth"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"dXNlcjoxMjM0"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">,</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  </span><span class="token property" style="color:#36acaa">"credsStore"</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token string" style="color:#e3116c">"pass"</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><br></span></code></pre></div></div>
<p>위의 경우 <code>auth</code> 는 <code>&lt;유저명&gt;:&lt;credential&gt;</code> 을 base64로 인코딩한 값이다.</p>
<h2 class="anchor anchorWithStickyNavbar_p_6w" id="레퍼런스">레퍼런스<a href="https://binsklee.github.io/trouble-shootings/improve-async-code-with-event-loop#%EB%A0%88%ED%8D%BC%EB%9F%B0%EC%8A%A4" class="hash-link" aria-label="Direct link to 레퍼런스" title="Direct link to 레퍼런스">​</a></h2>
<ul>
<li><a href="https://docs.docker.com/reference/cli/docker/login/" target="_blank" rel="noopener noreferrer">https://docs.docker.com/reference/cli/docker/login/</a></li>
<li><a href="https://stackoverflow.com/questions/43441454/docker-login-auth-token" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/43441454/docker-login-auth-token</a></li>
</ul>]]></content>
        <author>
            <name>Yongjoon Lee</name>
            <email>juckmyeol0716@gmail.com</email>
            <uri>https://github.com/binsklee</uri>
        </author>
        <category label="docker" term="docker"/>
        <category label="linux" term="linux"/>
    </entry>
</feed>